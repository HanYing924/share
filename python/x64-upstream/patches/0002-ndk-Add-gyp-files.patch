From c27830297314bb06b363d459076988461c9f3b53 Mon Sep 17 00:00:00 2001
From: Yang Gu <yang.gu@intel.com>
Date: Thu, 20 Feb 2014 16:25:33 +0800
Subject: [PATCH 2/2] ndk: Add gyp files

---
 android_tools_ndk.gyp | 20 ++++++++++++++++++
 crazy_linker.gyp      | 57 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 77 insertions(+)
 create mode 100644 android_tools_ndk.gyp
 create mode 100644 crazy_linker.gyp

diff --git a/android_tools_ndk.gyp b/android_tools_ndk.gyp
new file mode 100644
index 0000000..a73f685
--- /dev/null
+++ b/android_tools_ndk.gyp
@@ -0,0 +1,20 @@
+# Copyright (c) 2012 The Chromium Authors. All rights reserved.
+# Use of this source code is governed by a BSD-style license that can be
+# found in the LICENSE file.
+
+{
+  'targets': [
+    {
+      'target_name': 'cpu_features',
+      'type': 'static_library',
+      'direct_dependent_settings': {
+        'include_dirs': [
+          'sources/android/cpufeatures',
+        ],
+      },
+      'sources': [
+        'sources/android/cpufeatures/cpu-features.c',
+      ],
+    },
+  ],
+}
diff --git a/crazy_linker.gyp b/crazy_linker.gyp
new file mode 100644
index 0000000..834ffbb
--- /dev/null
+++ b/crazy_linker.gyp
@@ -0,0 +1,57 @@
+# Copyright (c) 2013 The Chromium Authors. All rights reserved.
+# Use of this source code is governed by a BSD-style license that can be
+# found in the LICENSE file.
+
+# This is a GYP include file that contains directives to build the
+# crazy_linker sources as _part_ of another target.
+
+{
+  'targets': [
+    {
+      'target_name': 'crazy_linker',
+      'type': 'static_library',
+      'include_dirs': [
+        'sources/android/crazy_linker/include',
+        'sources/android/crazy_linker/src',
+      ],
+      'defines': [
+        'CRAZY_DEBUG=0',
+      ],
+      'sources': [
+        'sources/android/crazy_linker/src/crazy_linker_api.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_ashmem.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_debug.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_elf_loader.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_elf_relocations.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_elf_relro.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_elf_symbols.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_elf_view.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_error.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_globals.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_library_list.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_library_view.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_line_reader.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_proc_maps.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_rdebug.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_search_path_list.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_shared_library.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_system.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_thread.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_util.cpp',
+        'sources/android/crazy_linker/src/crazy_linker_wrappers.cpp',
+        'sources/android/crazy_linker/src/linker_phdr.cpp',
+      ],
+      'link_settings': {
+        'libraries': [
+          '-llog',
+          '-ldl',
+        ],
+      },
+      'direct_dependent_settings': {
+        'include_dirs': [
+          'sources/android/crazy_linker/include',
+        ],
+      },
+    }, 
+  ],
+}
-- 
1.8.3.2

